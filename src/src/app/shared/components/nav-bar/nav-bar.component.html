<nav class="navbar navbar-expand-{{mobileModThreshold}} navbar-light text-uppercase bg-opacity-100 bg-white m-0 p-0 h-100 shadow-sm">

  <a [routerLink]="'/'" class="ms-2">
    <img class="skinet-image"
         style="width: 10em; height: auto"
         src="{{logoPictureUri}}"
         alt="">
  </a>

  <button
    class="navbar-toggler me-3" type="button"
    (click)="isMenuCollapsed = !isMenuCollapsed" style="height: 35px">&#9776;</button>

  <div [ngbCollapse]="isMenuCollapsed" class="collapse navbar-collapse navbar-nav align-items-center">

    <div class="col-{{mobileModThreshold}} d-{{mobileModThreshold}}-flex justify-content-center text-center">

      <a class="nav-item nav-link"
         [routerLink]="linkProvider.home"
         routerLinkActive="active"
         [routerLinkActiveOptions]="{exact: true}"
         (click)="isMenuCollapsed=true">Home</a>
      <a class="nav-item nav-link"
         [routerLink]="linkProvider.products"
         routerLinkActive="active"
         [routerLinkActiveOptions]="{exact: true}"
         (click)="isMenuCollapsed=true">Shop</a>
      <a class="nav-item nav-link mb-2 mb-{{mobileModThreshold}}-0"
         (click)="isMenuCollapsed=true">About</a>

    </div>

    <div class="nav-item align-items-center p-0 m-0 d-flex mb-3 mb-{{mobileModThreshold}}-0">

      <div class="d-flex position-relative me-3"
           style="aspect-ratio: 1/1; width: 3em;"
           (click)="isMenuCollapsed=true">
        <app-shopping-card-icon [routerLink]="linkProvider.basket" class="my-auto text-dark pointer"></app-shopping-card-icon>
        <div class="badge position-absolute translate-middle badge rounded-pill bg-primary" style="left: 67%; top: 20%">{{cardValue}}</div>
      </div>

      <div class="me-3 d-flex">
        <ng-container *ngIf="userInfo === null">
          <app-primary-outline-button [routerLink]="linkProvider.login" class="me-3" (btnClick)="isMenuCollapsed=true">Login</app-primary-outline-button>
          <app-primary-outline-button [routerLink]="linkProvider.login" (btnClick)="isMenuCollapsed=true">Sign Up</app-primary-outline-button>
        </ng-container>

        <ng-container *ngIf="userInfo !== null">
          <div ngbDropdown display="dynamic" placement="bottom-end">
            <span style="font-size: 1em; text-transform: none;" class="no-select" tabindex="0" ngbDropdownToggle id="navbarDropdown3" role="button">{{userInfo.email}}</span>
            <div ngbDropdownMenu aria-labelledby="navbarDropdown3" class="dropdown-menu p-0 w-auto">
              <div class="dropdown-item" ngbDropdownItem [routerLink]="linkProvider.basket">
                <app-shopping-card-icon style="font-size: 0.7em" class="me-2"/> View Basket
              </div>
              <div class="dropdown-item" ngbDropdownItem>
                <app-history-icon style="font-size: 0.7em" class="me-2"/> View Orders
              </div>
              <hr>
              <div class="dropdown-item" ngbDropdownItem (click)="logout()">
                <app-sign-out-icon style="font-size: 0.7em" class="me-2"/> Logout
              </div>
            </div>
          </div>
        </ng-container>
      </div>

    </div>
  </div>

</nav>
